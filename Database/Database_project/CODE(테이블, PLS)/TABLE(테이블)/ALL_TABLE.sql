CREATE TABLE GAMES_TBL
(
   G_ID             CHAR(4)         PRIMARY KEY,
   G_NAME            VARCHAR2(200)     NOT NULL,
   G_MAKER           CHAR(6)        NOT NULL,
   G_RELEASE           DATE            NOT NULL,
   G_SALES_PRICE      NUMBER(7)        NOT NULL,
   G_SUPPLY_PRICE       NUMBER(7)        NOT NULL,
   G_GENRE           CHAR(6)         NOT NULL,
   G_SHOW           VARCHAR2(1)     DEFAULT 'Y' NOT NULL
   
);

INSERT INTO GAMES_TBL VALUES ('G001', 'Dead by Daylight' , 'CMS016' , '20210204' , '21000' , '13000' , 'CMS006', 'Y');
INSERT INTO GAMES_TBL VALUES ('G002', 'Green Hell ' , 'CMS015' , '20200622' , '26000', '14000' , 'CMS010', 'Y');
INSERT INTO GAMES_TBL VALUES ('G003', '배틀그라운드' , 'CMS011' , '20191114' , '32000' , '20000', 'CMS006','Y');
INSERT INTO GAMES_TBL VALUES ('G004', 'EA SPORTS™ FIFA 21' , 'CMS017' , '20191212' , '36000', '66000' , 'CMS013','Y');
INSERT INTO GAMES_TBL VALUES ('G005', 'Among Us' , 'CMS019' , '20200501' , '5500' , '3000' , 'CMS018','Y' );
INSERT INTO GAMES_TBL VALUES ('G006', 'DEATH STRANDING' ,'CMS022', '20210104','64800', '32000','CMS010',   'Y');
INSERT INTO GAMES_TBL VALUES ('G007', 'It Takes Two' , 'CMS023',   '20190808',   '44000','25000','CMS010','Y');
INSERT INTO GAMES_TBL VALUES ('G008', 'Stardew Valley' ,   'CMS024',   '20180062',   '16000','9000','CMS012','Y');
INSERT INTO GAMES_TBL VALUES ('G009', 'Monster Hunter World: Iceborne' ,   'CMS025','20201003','46500','21000','CMS006','Y');
INSERT INTO GAMES_TBL VALUES ('G010', 'Danganronpa: Trigger Happy Havoc' ,'CMS026',   '20170923',   '21000','13000','CMS010','Y');

INSERT INTO GAMES_TBL (G_ID, G_NAME, G_MAKER, G_RELEASE, G_SALES_PRICE, G_SUPPLY_PRICE, G_GENRE, G_SHOW) 
VALUES ('G011', 'HUMANKIND', 'CMS011', to_date('08/18/2021', 'MM/DD/RRRR'), 51460, 20000, 'CMS006', 'N');

INSERT INTO GAMES_TBL (G_ID, G_NAME, G_MAKER, G_RELEASE, G_SALES_PRICE, G_SUPPLY_PRICE, G_GENRE, G_SHOW) 
VALUES ('G012', 'BIOHAZARD', 'CMS015', to_date('05/15/2021', 'MM/DD/RRRR'), 89000, 42000, 'CMS006', 'N');

INSERT INTO GAMES_TBL (G_ID, G_NAME, G_MAKER, G_RELEASE, G_SALES_PRICE, G_SUPPLY_PRICE, G_GENRE, G_SHOW) 
VALUES ('G013', 'PARTY ANIMALS', 'CMS016', to_date('07/09/2021', 'MM/DD/RRRR'), 43000, 24000, 'CMS018', 'N');

INSERT INTO GAMES_TBL (G_ID, G_NAME, G_MAKER, G_RELEASE, G_SALES_PRICE, G_SUPPLY_PRICE, G_GENRE, G_SHOW) 
VALUES ('G014', 'BIOMUTANT', 'CMS017', to_date('05/26/2021', 'MM/DD/RRRR'), 64900, 30000, 'CMS006', 'N');

INSERT INTO GAMES_TBL (G_ID, G_NAME, G_MAKER, G_RELEASE, G_SALES_PRICE, G_SUPPLY_PRICE, G_GENRE, G_SHOW) 
VALUES ('G015', 'SUCCUBUS', 'CMS019', to_date('07/21/2021', 'MM/DD/RRRR'), 37000, 19000, 'CMS006', 'N');

INSERT INTO GAMES_TBL (G_ID, G_NAME, G_MAKER, G_RELEASE, G_SALES_PRICE, G_SUPPLY_PRICE, G_GENRE, G_SHOW) 
VALUES ('G016', 'DUNGEONS, DRAGONS, DARK ALLIANC', 'CMS022', to_date('06/23/2021', 'MM/DD/RRRR'), 50400, 23000, 'CMS010', 'N');

INSERT INTO GAMES_TBL (G_ID, G_NAME, G_MAKER, G_RELEASE, G_SALES_PRICE, G_SUPPLY_PRICE, G_GENRE, G_SHOW) 
VALUES ('G017', 'KING''S BOUNTY 2', 'CMS023', to_date('08/24/2021', 'MM/DD/RRRR'), 47800, 22000, 'CMS014', 'N');

INSERT INTO GAMES_TBL (G_ID, G_NAME, G_MAKER, G_RELEASE, G_SALES_PRICE, G_SUPPLY_PRICE, G_GENRE, G_SHOW) 
VALUES ('G018', 'SIEGE SURVIVAL: GLORIA VICTIS', 'CMS024', to_date('05/18/2021', 'MM/DD/RRRR'), 42500, 27000, 'CMS010', 'N');

INSERT INTO GAMES_TBL (G_ID, G_NAME, G_MAKER, G_RELEASE, G_SALES_PRICE, G_SUPPLY_PRICE, G_GENRE, G_SHOW) 
VALUES ('G019', 'JUST DIE ALREADY', 'CMS025', to_date('05/26/2021', 'MM/DD/RRRR'), 15500, 6700, 'CMS012', 'N');

INSERT INTO GAMES_TBL (G_ID, G_NAME, G_MAKER, G_RELEASE, G_SALES_PRICE, G_SUPPLY_PRICE, G_GENRE, G_SHOW) 
VALUES ('G020', 'F1® 2021', 'CMS026', to_date('07/17/2021', 'MM/DD/RRRR'), 66000, 32000, 'CMS013', 'N');

SELECT * FROM GAMES_TBL;
--COMMIT;

--------------------------------------------------------
--  파일이 생성됨 - 화요일-5월-04-2021   
--------------------------------------------------------
--------------------------------------------------------
--  DDL for Table RESERVATION_GAMES_TBL
--------------------------------------------------------

  CREATE TABLE "RESERVATION_GAMES_TBL" 
  (
  "G_ID" CHAR(4), 
  "G_NAME" VARCHAR2(200), 
  "G_MAKER" CHAR(6), 
  "G_GENRE" VARCHAR2(20),
  "G_R_BEGINDATE" DATE, 
  "G_R_RELEASE" DATE, 
  "G_R_DISCOUNT_PER" NUMBER(2,0) DEFAULT 10,
  "G_R_SUPPLY_PRICE" NUMBER(7,0), 
  "G_R_SALES_PRICE" NUMBER(7,0), 
  "G_R_SHOW" CHAR(1) DEFAULT 'Y'
  );

  ALTER TABLE "RESERVATION_GAMES_TBL" MODIFY ("G_MAKER" NOT NULL ENABLE);
  ALTER TABLE "RESERVATION_GAMES_TBL" ADD CONSTRAINT "RESERVATION_TBL_PK" PRIMARY KEY ("G_ID") USING INDEX  ENABLE;
  ALTER TABLE "RESERVATION_GAMES_TBL" MODIFY ("G_R_SHOW" NOT NULL ENABLE);
  ALTER TABLE "RESERVATION_GAMES_TBL" MODIFY ("G_GENRE" NOT NULL ENABLE);
  ALTER TABLE "RESERVATION_GAMES_TBL" MODIFY ("G_R_BEGINDATE" NOT NULL ENABLE);
  ALTER TABLE "RESERVATION_GAMES_TBL" MODIFY ("G_R_RELEASE" NOT NULL ENABLE);
  ALTER TABLE "RESERVATION_GAMES_TBL" MODIFY ("G_R_DISCOUNT_PER" NOT NULL ENABLE);
  ALTER TABLE "RESERVATION_GAMES_TBL" MODIFY ("G_R_SUPPLY_PRICE" NOT NULL ENABLE);
  ALTER TABLE "RESERVATION_GAMES_TBL" MODIFY ("G_R_SALES_PRICE" NOT NULL ENABLE);
  ALTER TABLE "RESERVATION_GAMES_TBL" MODIFY ("G_ID" NOT NULL ENABLE);
  ALTER TABLE "RESERVATION_GAMES_TBL" MODIFY ("G_NAME" NOT NULL ENABLE);
  

INSERT INTO RESERVATION_GAMES_TBL (G_ID, G_NAME, G_MAKER, G_GENRE, G_R_BEGINDATE, G_R_RELEASE, G_R_DISCOUNT_PER, G_R_SUPPLY_PRICE, G_R_SALES_PRICE, G_R_SHOW) 
VALUES ('G011', 'HUMANKIND', 'CMS011', 'CMS006', to_date('03/17/2021', 'MM/DD/RRRR'), to_date('08/18/2021', 'MM/DD/RRRR'), 10, 20000, 51460, 'Y');

INSERT INTO RESERVATION_GAMES_TBL (G_ID, G_NAME, G_MAKER, G_GENRE, G_R_BEGINDATE, G_R_RELEASE, G_R_DISCOUNT_PER, G_R_SUPPLY_PRICE, G_R_SALES_PRICE, G_R_SHOW) 
VALUES ('G012', 'BIOHAZARD', 'CMS015', 'CMS006', to_date('04/10/2021', 'MM/DD/RRRR'), to_date('05/15/2021', 'MM/DD/RRRR'), 10, 42000, 89000, 'Y');

INSERT INTO RESERVATION_GAMES_TBL (G_ID, G_NAME, G_MAKER, G_GENRE, G_R_BEGINDATE, G_R_RELEASE, G_R_DISCOUNT_PER, G_R_SUPPLY_PRICE, G_R_SALES_PRICE, G_R_SHOW) 
VALUES ('G013', 'PARTY ANIMALS', 'CMS016', 'CMS018', to_date('04/13/2021', 'MM/DD/RRRR'), to_date('07/09/2021', 'MM/DD/RRRR'), 10, 24000, 43000, 'Y');

INSERT INTO RESERVATION_GAMES_TBL (G_ID, G_NAME, G_MAKER, G_GENRE, G_R_BEGINDATE, G_R_RELEASE, G_R_DISCOUNT_PER, G_R_SUPPLY_PRICE, G_R_SALES_PRICE, G_R_SHOW) 
VALUES ('G014', 'BIOMUTANT', 'CMS017', 'CMS006', to_date('04/11/2021', 'MM/DD/RRRR'), to_date('05/26/2021', 'MM/DD/RRRR'), 10, 30000, 64900, 'Y');

INSERT INTO RESERVATION_GAMES_TBL (G_ID, G_NAME, G_MAKER, G_GENRE, G_R_BEGINDATE, G_R_RELEASE, G_R_DISCOUNT_PER, G_R_SUPPLY_PRICE, G_R_SALES_PRICE, G_R_SHOW) 
VALUES ('G015', 'SUCCUBUS', 'CMS019', 'CMS006', to_date('05/06/2021', 'MM/DD/RRRR'), to_date('07/21/2021', 'MM/DD/RRRR'), 10, 19000, 37000, 'Y');

INSERT INTO RESERVATION_GAMES_TBL (G_ID, G_NAME, G_MAKER, G_GENRE, G_R_BEGINDATE, G_R_RELEASE, G_R_DISCOUNT_PER, G_R_SUPPLY_PRICE, G_R_SALES_PRICE, G_R_SHOW) 
VALUES ('G016', 'DUNGEONS, DRAGONS: DARK ALLIANC', 'CMS022', 'CMS010', to_date('04/23/2021', 'MM/DD/RRRR'), to_date('06/23/2021', 'MM/DD/RRRR'), 10, 23000, 50400, 'Y');

INSERT INTO RESERVATION_GAMES_TBL (G_ID, G_NAME, G_MAKER, G_GENRE, G_R_BEGINDATE, G_R_RELEASE, G_R_DISCOUNT_PER, G_R_SUPPLY_PRICE, G_R_SALES_PRICE, G_R_SHOW) 
VALUES ('G017', 'KING''S BOUNTY 2', 'CMS023', 'CMS014', to_date('05/01/2021', 'MM/DD/RRRR'), to_date('08/24/2021', 'MM/DD/RRRR'), 10, 22000, 47800, 'Y');

INSERT INTO RESERVATION_GAMES_TBL (G_ID, G_NAME, G_MAKER, G_GENRE, G_R_BEGINDATE, G_R_RELEASE, G_R_DISCOUNT_PER, G_R_SUPPLY_PRICE, G_R_SALES_PRICE, G_R_SHOW) 
VALUES ('G018', 'SIEGE SURVIVAL: GLORIA VICTIS', 'CMS024', 'CMS010', to_date('04/11/2021', 'MM/DD/RRRR'), to_date('05/18/2021', 'MM/DD/RRRR'), 10, 27000, 42500, 'Y');

INSERT INTO RESERVATION_GAMES_TBL (G_ID, G_NAME, G_MAKER, G_GENRE, G_R_BEGINDATE, G_R_RELEASE, G_R_DISCOUNT_PER, G_R_SUPPLY_PRICE, G_R_SALES_PRICE, G_R_SHOW) 
VALUES ('G019', 'JUST DIE ALREADY', 'CMS025', 'CMS012', to_date('03/15/2021', 'MM/DD/RRRR'), to_date('05/26/2021', 'MM/DD/RRRR'), 10, 6700, 15500, 'Y');

INSERT INTO RESERVATION_GAMES_TBL (G_ID, G_NAME, G_MAKER, G_GENRE, G_R_BEGINDATE, G_R_RELEASE, G_R_DISCOUNT_PER, G_R_SUPPLY_PRICE, G_R_SALES_PRICE, G_R_SHOW) 
VALUES ('G020', 'F1® 2021', 'CMS026', 'CMS013', to_date('05/01/2021', 'MM/DD/RRRR'), to_date('07/17/2021', 'MM/DD/RRRR'), 10, 32000, 66000, 'Y');

  
CREATE TABLE COMMONS_TBL
(
   CMS_ID           CHAR(6)           PRIMARY KEY,
   CMS_NAME         VARCHAR2(120)     NOT NULL,
   CMS_LVL         NUMBER(3)        NOT NULL,
   CMS_SEQ           NUMBER(5)        NOT NULL,
   PARENT_CMS_ID     CHAR(6)           NULL,
   GROUP_NUM        NUMBER(3)          NOT NULL,
   EXCEPT1        VARCHAR2(100)        NULL, 
   EXCEPT2        VARCHAR2(100)        NULL
);

INSERT INTO COMMONS_TBL VALUES('CMS001', '공통코드', 1 , 1, NULL, 0, NULL, NULL);
INSERT INTO COMMONS_TBL VALUES('CMS002', '제조사', 2 , 1, 'CMS001', 1, NULL, NULL);
INSERT INTO COMMONS_TBL VALUES('CMS003', '국가', 2 , 2, 'CMS001', 2, NULL, NULL);
INSERT INTO COMMONS_TBL VALUES('CMS004', '장르', 2 , 3, 'CMS001', 3, NULL, NULL);
INSERT INTO COMMONS_TBL VALUES('CMS005', '한국', 3 , 1, 'CMS003', 2, NULL, NULL);
INSERT INTO COMMONS_TBL VALUES('CMS006', 'Action', 3 , 1, 'CMS004', 3, NULL, NULL);
INSERT INTO COMMONS_TBL VALUES('CMS007', '미국', 3 , 2, 'CMS003', 2, NULL, NULL);
INSERT INTO COMMONS_TBL VALUES('CMS008', '프랑스', 3 , 3, 'CMS003', 2, NULL, NULL);
INSERT INTO COMMONS_TBL VALUES('CMS009', '중국', 3 , 4, 'CMS003', 2, NULL, NULL);
INSERT INTO COMMONS_TBL VALUES('CMS010', 'Adventure', 3 , 2, 'CMS004', 3, NULL, NULL);
INSERT INTO COMMONS_TBL VALUES('CMS011', 'KRAFTON', 3 , 1, 'CMS002', 1, NULL, NULL);
INSERT INTO COMMONS_TBL VALUES('CMS012', 'RPG', 3 , 3, 'CMS004', 3, NULL, NULL);
INSERT INTO COMMONS_TBL VALUES('CMS013', 'Sports', 3 , 4, 'CMS004', 3, NULL, NULL);
INSERT INTO COMMONS_TBL VALUES('CMS014', 'Simulation', 3 , 5, 'CMS004', 3, NULL, NULL);
INSERT INTO COMMONS_TBL VALUES('CMS015', 'Creepy Jar', 3 , 2, 'CMS002', 1, NULL, NULL);
INSERT INTO COMMONS_TBL VALUES('CMS016', 'Behaviour Interactive Inc', 3 , 3, 'CMS002', 1, NULL, NULL);
INSERT INTO COMMONS_TBL VALUES('CMS017', 'Electronic Arts', 3 , 4, 'CMS002', 1, NULL, NULL);
INSERT INTO COMMONS_TBL VALUES('CMS018', 'Casual', 3 , 6, 'CMS004', 3, NULL, NULL);
INSERT INTO COMMONS_TBL VALUES('CMS019', 'Innersloth', 3 , 5, 'CMS002', 1, NULL, NULL);
INSERT INTO COMMONS_TBL VALUES('CMS020', 'UK', 3 , 5, 'CMS003', 2, NULL, NULL);
INSERT INTO COMMONS_TBL VALUES('CMS021', '일본', 3 , 6, 'CMS003', 2, NULL, NULL);
--
INSERT INTO COMMONS_TBL VALUES('CMS022', '505 Games', 3 , 6, 'CMS002', 1, NULL, NULL);
INSERT INTO COMMONS_TBL VALUES('CMS023', 'Electronic Arts', 3 , 7, 'CMS002', 1, NULL, NULL);
INSERT INTO COMMONS_TBL VALUES('CMS024', 'ConcernedApe', 3 , 8, 'CMS002', 1, NULL, NULL);
INSERT INTO COMMONS_TBL VALUES('CMS025', 'CAPCOM Co., Ltd.', 3 , 9, 'CMS002', 1, NULL, NULL);
INSERT INTO COMMONS_TBL VALUES('CMS026', 'Spike Chunsoft Co., Ltd.', 3 , 10, 'CMS002', 1, NULL, NULL);
--
INSERT INTO COMMONS_TBL VALUES('CMS027', '등급', 2 , 4, 'CMS001', 4, NULL, NULL);
INSERT INTO COMMONS_TBL VALUES('CMS028', 'PLATINUM', 3 , 1, 'CMS027', 4, NULL, NULL);
INSERT INTO COMMONS_TBL VALUES('CMS029', 'GOLD', 3 , 2, 'CMS027', 4, NULL, NULL);
INSERT INTO COMMONS_TBL VALUES('CMS030', 'SILVER', 3 , 3, 'CMS027', 4, NULL, NULL);
INSERT INTO COMMONS_TBL VALUES('CMS031', 'BRONZE', 3 , 4, 'CMS027', 4, NULL, NULL);



SELECT * FROM COMMONS_TBL;
--COMMIT;


CREATE TABLE PAYMENT_TBL
   (   
            PY_ID                        CHAR(5)                   PRIMARY KEY, 
            PY_NAME                 VARCHAR2(30)       NOT NULL, 
            GROUP_NUM           NUMBER(2,0)          NOT NULL, 
            PY_LVL                      NUMBER(2,0)          NOT NULL, 
            PY_SEQ                      NUMBER(2,0)         NOT NULL, 
            PY_DC_PER               NUMBER(3,0)         DEFAULT NULL, 
            PARENT_PY_ID         CHAR(5)
    );
  
INSERT INTO PAYMENT_TBL (PY_ID, PY_NAME, GROUP_NUM, PY_LVL, PY_SEQ, PY_DC_PER, PARENT_PY_ID) 
VALUES ('PY001', '지불방식', 1, 1, 2, 0, 'NULL');

INSERT INTO PAYMENT_TBL (PY_ID, PY_NAME, GROUP_NUM, PY_LVL, PY_SEQ, PY_DC_PER, PARENT_PY_ID) 
VALUES ('PY002', '카드', 2, 2, 1, 0, 'PY001');

INSERT INTO PAYMENT_TBL (PY_ID, PY_NAME, GROUP_NUM, PY_LVL, PY_SEQ, PY_DC_PER, PARENT_PY_ID) 
VALUES ('PY003', '현금', 3, 2, 1, 0, 'PY001');

INSERT INTO PAYMENT_TBL (PY_ID, PY_NAME, GROUP_NUM, PY_LVL, PY_SEQ, PY_DC_PER, PARENT_PY_ID) 
VALUES ('PY004', '모바일', 4, 2, 1, 0, 'PY001');

INSERT INTO PAYMENT_TBL (PY_ID, PY_NAME, GROUP_NUM, PY_LVL, PY_SEQ, PY_DC_PER, PARENT_PY_ID) 
VALUES ('PY006', '현대카드', 2, 3, 1, 3, 'PY002');

INSERT INTO PAYMENT_TBL (PY_ID, PY_NAME, GROUP_NUM, PY_LVL, PY_SEQ, PY_DC_PER, PARENT_PY_ID) 
VALUES ('PY007', 'BC카드', 2, 3, 2, 2, 'PY002');

INSERT INTO PAYMENT_TBL (PY_ID, PY_NAME, GROUP_NUM, PY_LVL, PY_SEQ, PY_DC_PER, PARENT_PY_ID) 
VALUES ('PY008', 'SK 알뜰폰', 4, 3, 3, 3, 'PY004');

INSERT INTO PAYMENT_TBL (PY_ID, PY_NAME, GROUP_NUM, PY_LVL, PY_SEQ, PY_DC_PER, PARENT_PY_ID) 
VALUES ('PY009', '신한카드', 2, 3, 3, 6, 'PY002');

INSERT INTO PAYMENT_TBL (PY_ID, PY_NAME, GROUP_NUM, PY_LVL, PY_SEQ, PY_DC_PER, PARENT_PY_ID) 
VALUES ('PY010', 'SK Telecom', 4, 3, 4, 5, 'PY004');

INSERT INTO PAYMENT_TBL (PY_ID, PY_NAME, GROUP_NUM, PY_LVL, PY_SEQ, PY_DC_PER, PARENT_PY_ID) 
VALUES ('PY011', 'LG U+', 4, 3, 2, 2, 'PY004');

INSERT INTO PAYMENT_TBL (PY_ID, PY_NAME, GROUP_NUM, PY_LVL, PY_SEQ, PY_DC_PER, PARENT_PY_ID) 
VALUES ('PY012', 'KT', 4, 3, 1, 2, 'PY004');

INSERT INTO PAYMENT_TBL (PY_ID, PY_NAME, GROUP_NUM, PY_LVL, PY_SEQ, PY_DC_PER, PARENT_PY_ID) 
VALUES ('PY013', 'KB국민카드', 2, 3, 3, 3, 'PY002');

INSERT INTO PAYMENT_TBL (PY_ID, PY_NAME, GROUP_NUM, PY_LVL, PY_SEQ, PY_DC_PER, PARENT_PY_ID) 
VALUES ('PY014', '하나카드', 2, 3, 3, 5, 'PY002');

INSERT INTO PAYMENT_TBL (PY_ID, PY_NAME, GROUP_NUM, PY_LVL, PY_SEQ, PY_DC_PER, PARENT_PY_ID) 
VALUES ('PY015', '롯데카드', 2, 3, 3, 5, 'PY002');

INSERT INTO PAYMENT_TBL (PY_ID, PY_NAME, GROUP_NUM, PY_LVL, PY_SEQ, PY_DC_PER, PARENT_PY_ID) 
VALUES ('PY016', 'NH농협카드', 2, 3, 3, 6, 'PY002');

INSERT INTO PAYMENT_TBL (PY_ID, PY_NAME, GROUP_NUM, PY_LVL, PY_SEQ, PY_DC_PER, PARENT_PY_ID) 
VALUES ('PY017', '삼성카드', 2, 3, 3, 7, 'PY002');

INSERT INTO PAYMENT_TBL (PY_ID, PY_NAME, GROUP_NUM, PY_LVL, PY_SEQ, PY_DC_PER, PARENT_PY_ID) 
VALUES ('PY018', 'LG 알뜰폰', 4, 3, 5, 3, 'PY004');

INSERT INTO PAYMENT_TBL (PY_ID, PY_NAME, GROUP_NUM, PY_LVL, PY_SEQ, PY_DC_PER, PARENT_PY_ID) 
VALUES ('PY019', 'KT 알뜰폰', 4, 3, 6, 3, 'PY004');


SELECT * FROM PAYMENT_TBL ;
--COMMIT;
CREATE TABLE POINT_TBL
(
   PT_ID        CHAR(5)        PRIMARY KEY,
   S_ID       CHAR(4)       NOT NULL,
   CT_ID        CHAR(5)        NOT NULL,
   PT_SCORE    NUMBER(20)     DEFAULT 0  NOT NULL,
   PT_SAVE_USE VARCHAR2(1)    NOT NULL,
   PT_DATE     DATE           NOT NULL,
   PT_SHOW     VARCHAR2(1)     DEFAULT 'Y' NOT NULL
   
);

INSERT INTO POINT_TBL(PT_ID, S_ID, CT_ID, PT_SCORE, PT_SAVE_USE, PT_DATE, PT_SHOW)
VALUES('PT001', 'S001', 'CT001' , 1019, 'S', '21/05/07', 'Y');
INSERT INTO POINT_TBL(PT_ID, S_ID, CT_ID, PT_SCORE, PT_SAVE_USE, PT_DATE, PT_SHOW)
VALUES('PT002', 'S003', 'CT003' , 1011, 'S', '21/05/07', 'Y');
INSERT INTO POINT_TBL(PT_ID, S_ID, CT_ID, PT_SCORE, PT_SAVE_USE, PT_DATE, PT_SHOW)
VALUES('PT003', 'S003', 'CT003' , 5000, 'U', '21/05/07', 'Y');
INSERT INTO POINT_TBL(PT_ID, S_ID, CT_ID, PT_SCORE, PT_SAVE_USE, PT_DATE, PT_SHOW)
VALUES('PT004', 'S004', 'CT011' , 1520, 'S', '21/05/07', 'Y');
INSERT INTO POINT_TBL(PT_ID, S_ID, CT_ID, PT_SCORE, PT_SAVE_USE, PT_DATE, PT_SHOW)
VALUES('PT005', 'S008', 'CT005' , 2162, 'S', '21/05/07', 'Y');
INSERT INTO POINT_TBL(PT_ID, S_ID, CT_ID, PT_SCORE, PT_SAVE_USE, PT_DATE, PT_SHOW)
VALUES('PT006', 'S009', 'CT002' , 6, 'S', '21/05/07', 'Y');
INSERT INTO POINT_TBL(PT_ID, S_ID, CT_ID, PT_SCORE, PT_SAVE_USE, PT_DATE, PT_SHOW)
VALUES('PT007', 'S009', 'CT002' , 5000, 'U', '21/05/07', 'Y');
INSERT INTO POINT_TBL(PT_ID, S_ID, CT_ID, PT_SCORE, PT_SAVE_USE, PT_DATE, PT_SHOW)
VALUES('PT008', 'S010', 'CT006' , 1019, 'S', '21/05/07', 'Y');
INSERT INTO POINT_TBL(PT_ID, S_ID, CT_ID, PT_SCORE, PT_SAVE_USE, PT_DATE, PT_SHOW)
VALUES('PT009', 'S011', 'CT003' , 1000, 'U', '21/05/07', 'Y');
INSERT INTO POINT_TBL(PT_ID, S_ID, CT_ID, PT_SCORE, PT_SAVE_USE, PT_DATE, PT_SHOW)
VALUES('PT010', 'S011', 'CT003' , 1696, 'S', '21/05/07', 'Y');
INSERT INTO POINT_TBL(PT_ID, S_ID, CT_ID, PT_SCORE, PT_SAVE_USE, PT_DATE, PT_SHOW)
VALUES('PT011', 'S012', 'CT010' , 2134, 'S', '21/05/07', 'Y');
INSERT INTO POINT_TBL(PT_ID, S_ID, CT_ID, PT_SCORE, PT_SAVE_USE, PT_DATE, PT_SHOW)
VALUES('PT012', 'S013', 'CT012' , 2186, 'S', '21/05/07', 'Y');
INSERT INTO POINT_TBL(PT_ID, S_ID, CT_ID, PT_SCORE, PT_SAVE_USE, PT_DATE, PT_SHOW)
VALUES('PT013', 'S014', 'CT002' , 3000, 'U', '21/05/07', 'Y');
INSERT INTO POINT_TBL(PT_ID, S_ID, CT_ID, PT_SCORE, PT_SAVE_USE, PT_DATE, PT_SHOW)
VALUES('PT014', 'S014', 'CT002' , 848, 'S', '21/05/07', 'Y');

SELECT * FROM POINT_TBL;
--COMMIT;

CREATE TABLE CUSTOMERS_TBL
(
    CT_ID       CHAR(5)                             PRIMARY KEY, -- CUSTOMER의 ID
    CT_NAME     VARCHAR2(30)                        NOT NULL,    -- CUSTOMER의 이름
    CT_BIRTH    VARCHAR2(24)                        NOT NULL,    -- CUSTOMER의 생년월일
    CT_REGION   CHAR(6)                             NOT NULL,    -- CUSTOMER의 국가
    CT_GENDER   CHAR(1)                             NOT NULL,    -- CUSTOMER의 성별
    CT_C_NUM    VARCHAR2(33)                        NOT NULL,    -- CUSTOMER의 전화번호
    CT_POINT    NUMBER(10)      DEFAULT 0           NULL,        -- CUSTOMER의 포인트
    CT_GRADE    CHAR(6)    DEFAULT 'CMS031'     NULL,        -- CUSTOMER의 등급(처음 가입하는 사람의 등급은 브론즈로 통일)
    CT_SHOW     CHAR(1)         DEFAULT 'Y'         NOT NULL     -- CUSTOMER의 삭제여부
);

INSERT INTO CUSTOMERS_TBL (CT_ID, CT_NAME, CT_BIRTH, CT_REGION, CT_GENDER, CT_C_NUM, CT_POINT, CT_GRADE, CT_SHOW)
VALUES('CT001', '박영훈', '19940214', 'CMS005', 'M', '01084762204', 0, 'CMS031', 'Y');

INSERT INTO CUSTOMERS_TBL (CT_ID, CT_NAME, CT_BIRTH, CT_REGION, CT_GENDER, CT_C_NUM, CT_POINT, CT_GRADE, CT_SHOW)
VALUES('CT002', '김민영', '19900527', 'CMS005', 'M', '01025784952', 0, 'CMS031', 'Y');

INSERT INTO CUSTOMERS_TBL (CT_ID, CT_NAME, CT_BIRTH, CT_REGION, CT_GENDER, CT_C_NUM, CT_POINT, CT_GRADE, CT_SHOW)
VALUES('CT003', '이주은', '19970811', 'CMS005', 'F', '01078334587', 0, 'CMS031', 'Y');

INSERT INTO CUSTOMERS_TBL (CT_ID, CT_NAME, CT_BIRTH, CT_REGION, CT_GENDER, CT_C_NUM, CT_POINT, CT_GRADE, CT_SHOW)
VALUES('CT004', 'Annette', '19960401', 'CMS008', 'M', '01017966985', 0, 'CMS031', 'Y');

INSERT INTO CUSTOMERS_TBL (CT_ID, CT_NAME, CT_BIRTH, CT_REGION, CT_GENDER, CT_C_NUM, CT_POINT, CT_GRADE, CT_SHOW)
VALUES('CT005', 'Chloe', '19931205', 'CMS008', 'F', '01060513687', 0, 'CMS031', 'Y');

INSERT INTO CUSTOMERS_TBL (CT_ID, CT_NAME, CT_BIRTH, CT_REGION, CT_GENDER, CT_C_NUM, CT_POINT, CT_GRADE, CT_SHOW)
VALUES('CT006', 'Capucine', '20000121', 'CMS008', 'F', '01076542291', 0, 'CMS031', 'Y');

INSERT INTO CUSTOMERS_TBL (CT_ID, CT_NAME, CT_BIRTH, CT_REGION, CT_GENDER, CT_C_NUM, CT_POINT, CT_GRADE, CT_SHOW)
VALUES('CT007', 'Jacob', '20030302', 'CMS007', 'M', '01052410309', 0, 'CMS031', 'Y');

INSERT INTO CUSTOMERS_TBL (CT_ID, CT_NAME, CT_BIRTH, CT_REGION, CT_GENDER, CT_C_NUM, CT_POINT, CT_GRADE, CT_SHOW)
VALUES('CT008', 'Alexander', '19990624', 'CMS007', 'M', '01080531698', 0, 'CMS031', 'Y');

INSERT INTO CUSTOMERS_TBL (CT_ID, CT_NAME, CT_BIRTH, CT_REGION, CT_GENDER, CT_C_NUM, CT_POINT, CT_GRADE, CT_SHOW)
VALUES('CT009', 'りあ', '19951006', 'CMS021', 'F', '01042789852', 0, 'CMS031', 'Y');

INSERT INTO CUSTOMERS_TBL (CT_ID, CT_NAME, CT_BIRTH, CT_REGION, CT_GENDER, CT_C_NUM, CT_POINT, CT_GRADE, CT_SHOW)
VALUES('CT010', 'えりか', '20020909', 'CMS021', 'F', '01015947810', 0, 'CMS031', 'Y');

INSERT INTO CUSTOMERS_TBL (CT_ID, CT_NAME, CT_BIRTH, CT_REGION, CT_GENDER, CT_C_NUM, CT_POINT, CT_GRADE, CT_SHOW)
VALUES('CT011', '张伟', '19961105', 'CMS009', 'M', '01078542458', 0, 'CMS031', 'Y');

INSERT INTO CUSTOMERS_TBL (CT_ID, CT_NAME, CT_BIRTH, CT_REGION, CT_GENDER, CT_C_NUM, CT_POINT, CT_GRADE, CT_SHOW)
VALUES('CT012', '金雨琦', '19940605', 'CMS009', 'F', '01057891557', 0, 'CMS031', 'Y');

SELECT * FROM CUSTOMERS_TBL;
--COMMIT;

CREATE TABLE SALES_TBL
   (   
       S_ID CHAR(4 BYTE), 
        G_ID CHAR(4 BYTE), 
        CT_ID CHAR(5 BYTE), 
        S_DATE DATE, 
        PY_ID CHAR(5 BYTE), 
        S_GET_POINT NUMBER(2,0) DEFAULT 5, 
        S_USE_POINT NUMBER(6,0), 
        S_PROFIT NUMBER(7,0), 
        S_SHOW CHAR(1 BYTE) DEFAULT 'Y', 
        S_W_PURCHASE VARCHAR2(3 BYTE) DEFAULT NULL
   );
   
  ALTER TABLE "SALES_TBL" MODIFY ("S_PROFIT" NOT NULL ENABLE);
  ALTER TABLE "SALES_TBL" MODIFY ("S_SHOW" NOT NULL ENABLE);
  ALTER TABLE "SALES_TBL" MODIFY ("S_ID" NOT NULL ENABLE);
  ALTER TABLE "SALES_TBL" MODIFY ("S_GET_POINT" NOT NULL ENABLE);
  ALTER TABLE "SALES_TBL" MODIFY ("G_ID" NOT NULL ENABLE);
  ALTER TABLE "SALES_TBL" MODIFY ("CT_ID" NOT NULL ENABLE);
  ALTER TABLE "SALES_TBL" MODIFY ("S_DATE" NOT NULL ENABLE);
  ALTER TABLE "SALES_TBL" MODIFY ("PY_ID" NOT NULL ENABLE);
  ALTER TABLE "SALES_TBL" ADD CONSTRAINT "SALES_TBL_PK" PRIMARY KEY ("S_ID");



INSERT INTO SALES_TBL(S_ID, G_ID, CT_ID, S_DATE, PY_ID, S_GET_POINT, S_USE_POINT, S_PROFIT, S_SHOW, S_W_PURCHASE)
VALUES('S001','G001','CT001','21/05/07','PY006',5,0,20370,'Y', NULL);

INSERT INTO SALES_TBL(S_ID, G_ID, CT_ID, S_DATE, PY_ID, S_GET_POINT, S_USE_POINT, S_PROFIT, S_SHOW, S_W_PURCHASE)
VALUES('S002','G002','CT003','21/05/07','PY006',5,5000,20220,'Y', NULL);

INSERT INTO SALES_TBL(S_ID, G_ID, CT_ID, S_DATE, PY_ID, S_GET_POINT, S_USE_POINT, S_PROFIT, S_SHOW, S_W_PURCHASE)
VALUES('S003','G003','CT011','21/05/07','PY014',5,0,30400,'Y', NULL);

INSERT INTO SALES_TBL(S_ID, G_ID, CT_ID, S_DATE, PY_ID, S_GET_POINT, S_USE_POINT, S_PROFIT, S_SHOW, S_W_PURCHASE)
VALUES('S004','G009','CT005','21/05/07','PY017',5,0,43245,'Y', NULL);

INSERT INTO SALES_TBL(S_ID, G_ID, CT_ID, S_DATE, PY_ID, S_GET_POINT, S_USE_POINT, S_PROFIT, S_SHOW, S_W_PURCHASE)
VALUES('S005','G005','CT002','21/05/07','PY017',5,5000,115,'Y', NULL);

INSERT INTO SALES_TBL(S_ID, G_ID, CT_ID, S_DATE, PY_ID, S_GET_POINT, S_USE_POINT, S_PROFIT, S_SHOW, S_W_PURCHASE)
VALUES('S006','G010','CT006','21/05/07','PY013',5,0,20370,'Y', NULL);

INSERT INTO SALES_TBL(S_ID, G_ID, CT_ID, S_DATE, PY_ID, S_GET_POINT, S_USE_POINT, S_PROFIT, S_SHOW, S_W_PURCHASE)
VALUES('S007','G004','CT003','21/05/07','PY013',5,1000,33920,'Y', NULL);

INSERT INTO SALES_TBL(S_ID, G_ID, CT_ID, S_DATE, PY_ID, S_GET_POINT, S_USE_POINT, S_PROFIT, S_SHOW, S_W_PURCHASE)
VALUES('S008','G007','CT010','21/05/07','PY008',5,0,42680,'Y', NULL);

INSERT INTO SALES_TBL(S_ID, G_ID, CT_ID, S_DATE, PY_ID, S_GET_POINT, S_USE_POINT, S_PROFIT, S_SHOW, S_W_PURCHASE)
VALUES('S009','G009','CT012','21/05/07','PY013',5,0,43710,'Y', NULL);

INSERT INTO SALES_TBL(S_ID, G_ID, CT_ID, S_DATE, PY_ID, S_GET_POINT, S_USE_POINT, S_PROFIT, S_SHOW, S_W_PURCHASE)
VALUES('S010','G001','CT002','21/05/07','PY013',5,3000,16950,'Y', NULL);


SELECT * FROM SALES_TBL;
--COMMIT;



CREATE TABLE SALE_APPLYS_TBL
(
    A_ID            CHAR(4)                    PRIMARY KEY      NOT NULL,   -- 신청 ID
    G_ID            CHAR(4)                                     NOT NULL,   -- 예약게임 ID
    CT_ID           CHAR(5)                                     NOT NULL,   -- 고객 ID
    S_DATE          DATE                                        NOT NULL,   -- 신청 날짜
    PY_ID           CHAR(5)                                     NOT NULL,   -- 예약게임의 결제방식 ID
    G_GET_POINT     NUMBER(5,2)  DEFAULT 5                      NOT NULL,   -- 예약게임의 포인트 적립률
    A_PROFIT        NUMBER(7)                                   NOT NULL,   -- 예약게임의 총매출(할인률포함)
    A_USE_POINT     NUMBER(7)    DEFAULT 0                      NULL,       -- 예약게임에 사용한 포인트 
    A_SHOW          CHAR(1)      DEFAULT 'Y'                    NOT NULL,   -- 신청테이블의삭제여부
    A_W_PURCHASE    VARCHAR2(3)  DEFAULT 'R'                    NULL        -- 일반구매인지 예약구매인지 확인하기위한 속성
);

INSERT INTO SALE_APPLYS_TBL(A_ID, G_ID, CT_ID, S_DATE, PY_ID, G_GET_POINT, A_PROFIT, A_USE_POINT, A_SHOW, A_W_PURCHASE)
VALUES('A001', 'G018', 'CT007', '21/05/07', 'PY011', 5, 37400, 0, 'Y', 'R');
INSERT INTO SALE_APPLYS_TBL(A_ID, G_ID, CT_ID, S_DATE, PY_ID, G_GET_POINT, A_PROFIT, A_USE_POINT, A_SHOW, A_W_PURCHASE)
VALUES('A002', 'G019', 'CT005', '21/05/07', 'PY012', 5, 13640, 0, 'Y', 'R');
INSERT INTO SALE_APPLYS_TBL(A_ID, G_ID, CT_ID, S_DATE, PY_ID, G_GET_POINT, A_PROFIT, A_USE_POINT, A_SHOW, A_W_PURCHASE)
VALUES('A003', 'G019', 'CT001', '21/05/07', 'PY012', 5, 8640, 5000, 'Y', 'R');
INSERT INTO SALE_APPLYS_TBL(A_ID, G_ID, CT_ID, S_DATE, PY_ID, G_GET_POINT, A_PROFIT, A_USE_POINT, A_SHOW, A_W_PURCHASE)
VALUES('A004', 'G020', 'CT001', '21/05/07', 'PY019', 5, 57420, 0, 'Y', 'R');
INSERT INTO SALE_APPLYS_TBL(A_ID, G_ID, CT_ID, S_DATE, PY_ID, G_GET_POINT, A_PROFIT, A_USE_POINT, A_SHOW, A_W_PURCHASE)
VALUES('A005', 'G020', 'CT001', '21/05/07', 'PY016', 5, 50440, 5000, 'Y', 'R');
INSERT INTO SALE_APPLYS_TBL(A_ID, G_ID, CT_ID, S_DATE, PY_ID, G_GET_POINT, A_PROFIT, A_USE_POINT, A_SHOW, A_W_PURCHASE)
VALUES('A006', 'G014', 'CT009', '21/05/07', 'PY009', 5, 54516, 0, 'Y', 'R');
INSERT INTO SALE_APPLYS_TBL(A_ID, G_ID, CT_ID, S_DATE, PY_ID, G_GET_POINT, A_PROFIT, A_USE_POINT, A_SHOW, A_W_PURCHASE)
VALUES('A007', 'G015', 'CT009', '21/05/07', 'PY007', 5, 32560, 0, 'Y', 'R');
INSERT INTO SALE_APPLYS_TBL(A_ID, G_ID, CT_ID, S_DATE, PY_ID, G_GET_POINT, A_PROFIT, A_USE_POINT, A_SHOW, A_W_PURCHASE)
VALUES('A008', 'G014', 'CT005', '21/05/07', 'PY013', 5, 56463, 0, 'Y', 'R');
INSERT INTO SALE_APPLYS_TBL(A_ID, G_ID, CT_ID, S_DATE, PY_ID, G_GET_POINT, A_PROFIT, A_USE_POINT, A_SHOW, A_W_PURCHASE)
VALUES('A009', 'G012', 'CT012', '21/05/07', 'PY007', 5, 78320, 0, 'Y', 'R');
INSERT INTO SALE_APPLYS_TBL(A_ID, G_ID, CT_ID, S_DATE, PY_ID, G_GET_POINT, A_PROFIT, A_USE_POINT, A_SHOW, A_W_PURCHASE)
VALUES('A010', 'G015', 'CT009', '21/05/07', 'PY018', 5, 32190, 0, 'Y', 'R');


SELECT * FROM SALE_APPLYS_TBL
--COMMIT;