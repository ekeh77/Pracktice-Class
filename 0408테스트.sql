--대메뉴 테이블
CREATE TABLE F_MENUS
(
    FMID CHAR(4) NOT NULL PRIMARY KEY,
    FMNAME VARCHAR2(50) NOT NULL,
    FMETC VARCHAR2(100) NULL
);

INSERT INTO F_MENUS VALUES('FM01', '전자', NULL);
INSERT INTO F_MENUS VALUES('FM02', '의류', NULL);

SELECT * FROM F_MENUS;

--COMMIT;

--중메뉴 테이블
CREATE TABLE S_MENUS
(
    SMID CHAR(4) NOT NULL PRIMARY KEY,
    SMNAME VARCHAR2(50) NOT NULL,
    FMID CHAR(4) NOT NULL,
    FMETC VARCHAR2(100) NULL
    
);

INSERT INTO S_MENUS VALUES('SM01', '컴퓨터', 'FM01', NULL);
INSERT INTO S_MENUS VALUES('SM02', '텔레비전', 'FM01', NULL);
INSERT INTO S_MENUS VALUES('SM03', '여성의류', 'FM02', NULL);
INSERT INTO S_MENUS VALUES('SM04', '남성의류', 'FM02', NULL);
INSERT INTO S_MENUS VALUES('SM05', '에어콘', 'FM01', NULL);
INSERT INTO S_MENUS VALUES('SM06', '냉장고', 'FM01', NULL);

SELECT * FROM S_MENUS
WHERE FMID = 'FM01'
;

CREATE TABLE T_MENUS
(
    TMID CHAR(4) NOT NULL PRIMARY KEY,
    TMNAME VARCHAR2(50) NOT NULL,
    SMID CHAR(4) NOT NULL,
    TMETC VARCHAR2(100) NULL
);

INSERT INTO T_MENUS VALUES('TM01', '인텔', 'SM01', NULL);
INSERT INTO T_MENUS VALUES('TM02', 'AMD', 'SM01', NULL);
INSERT INTO T_MENUS VALUES('TM03', '노트북', 'SM01', NULL);

INSERT INTO T_MENUS VALUES('TM04', '삼성', 'SM02', NULL);
INSERT INTO T_MENUS VALUES('TM05', 'LG', 'SM02', NULL);
INSERT INTO T_MENUS VALUES('TM06', '필립스', 'SM02', NULL);

INSERT INTO T_MENUS VALUES('TM07', '티셔츠', 'SM03', NULL);
INSERT INTO T_MENUS VALUES('TM08', '가디건', 'SM03', NULL);
INSERT INTO T_MENUS VALUES('TM09', '니트', 'SM03', NULL);

INSERT INTO T_MENUS VALUES('TM10', '티셔츠', 'SM04', NULL);
INSERT INTO T_MENUS VALUES('TM11', '가디건', 'SM04', NULL);
INSERT INTO T_MENUS VALUES('TM12', '니트', 'SM04', NULL);

SELECT * FROM T_MENUS
WHERE SMID = 'SM01'
;

--COMMIT;

SELECT T1.FMID, T1.FMNAME, COUNT(*)
FROM F_MENUS T1, S_MENUS T2
WHERE T1.FMID = T2.FMID
GROUP BY T1.FMID, T1.FMNAME
;

SELECT *
FROM F_MENUS T1, S_MENUS T2, T_MENUS T3
WHERE T1.FMID = T2.FMID
AND T2.SMID = T3.SMID
;

SELECT *
FROM F_MENUS T1, S_MENUS T2, T_MENUS T3
WHERE T1.FMID = T2.FMID
AND T2.SMID = T3.SMID(+)
;

--1.대메뉴가 전자인 중메뉴를 뽑자 메뉴아이디 메뉴이름
SELECT T2.SMID, T2.SMNAME
FROM F_MENUS T1, S_MENUS T2
WHERE T1.FMID = T2.FMID
AND T1.FMID = 'FM01'
GROUP BY T2.SMID, T2.SMNAME
;

SELECT * FROM S_MENUS
WHERE FMID = 'FM01'
;